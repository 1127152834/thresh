2021-12-26 18:12:50 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration Located property source: CompositePropertySource {name='NACOS', propertySources=[NacosPropertySource {name='thresh-gateway.yaml'}, NacosPropertySource {name='thresh-gateway'}]}
2021-12-26 18:12:51 INFO  Thresh-Gateway main com.zhang.thresh.gateway.ThreshGatewayApplication No active profile set, falling back to default profiles: default
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data repositories in DEFAULT mode.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 59ms. Found 6 repository interfaces.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data repositories in DEFAULT mode.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Bootstrapping Spring Data repositories in DEFAULT mode.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.zhang.thresh.gateway.enhance.mapper.BlackListMapper. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.zhang.thresh.gateway.enhance.mapper.BlockLogMapper. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.zhang.thresh.gateway.enhance.mapper.RateLimitLogMapper. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.zhang.thresh.gateway.enhance.mapper.RateLimitRuleMapper. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.zhang.thresh.gateway.enhance.mapper.RouteLogMapper. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.zhang.thresh.gateway.enhance.mapper.RouteUserMapper. If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository.
2021-12-26 18:12:51 INFO  Thresh-Gateway main org.springframework.data.repository.config.RepositoryConfigurationDelegate Finished Spring Data repository scanning in 8ms. Found 0 repository interfaces.
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.cloud.context.scope.GenericScope BeanFactory id=0ac644ac-4096-3807-aff1-38b55e8d1761
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.ReactiveMethodSecurityConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodSecurityExpressionHandler' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'methodMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactiveLoadBalancerConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker Bean 'deferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.mongodb.driver.cluster Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.mongodb.driver.cluster Cluster created with settings {hosts=[localhost:27017], mode=MULTIPLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2021-12-26 18:12:52 INFO  Thresh-Gateway main org.mongodb.driver.cluster Adding discovered server localhost:27017 to client view of cluster
2021-12-26 18:12:52 INFO  Thresh-Gateway cluster-ClusterId{value='61c840244c267255193d396b', description='null'}-localhost:27017 org.mongodb.driver.connection Opened connection [connectionId{localValue:2, serverValue:7}] to localhost:27017
2021-12-26 18:12:52 INFO  Thresh-Gateway cluster-ClusterId{value='61c840244c267255193d396b', description='null'}-localhost:27017 org.mongodb.driver.cluster Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 4, 6]}, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2622800}
2021-12-26 18:12:52 INFO  Thresh-Gateway cluster-ClusterId{value='61c840244c267255193d396b', description='null'}-localhost:27017 org.mongodb.driver.cluster Discovered cluster type of STANDALONE
2021-12-26 18:12:53 INFO  Thresh-Gateway cluster-ClusterId{value='61c840244c267255193d396a', description='null'}-localhost:27017 org.mongodb.driver.connection Opened connection [connectionId{localValue:1, serverValue:8}] to localhost:27017
2021-12-26 18:12:53 INFO  Thresh-Gateway cluster-ClusterId{value='61c840244c267255193d396a', description='null'}-localhost:27017 org.mongodb.driver.cluster Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[4, 4, 6]}, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=874000}
2021-12-26 18:12:53 INFO  Thresh-Gateway main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-12-26 18:12:53 INFO  Thresh-Gateway main com.netflix.config.sources.URLConfigurationSource To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [After]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Before]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Between]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Cookie]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Header]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Host]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Method]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Path]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Query]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [ReadBodyPredicateFactory]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [RemoteAddr]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [Weight]
2021-12-26 18:12:54 INFO  Thresh-Gateway main org.springframework.cloud.gateway.route.RouteDefinitionRouteLocator Loaded RoutePredicateFactory [CloudFoundryRouteService]
2021-12-26 18:12:55 INFO  Thresh-Gateway main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-12-26 18:12:55 INFO  Thresh-Gateway main com.alibaba.nacos.client.naming initializer namespace from System Environment :null
2021-12-26 18:12:55 INFO  Thresh-Gateway main com.alibaba.nacos.client.naming initializer namespace from System Property :null
2021-12-26 18:12:55 INFO  Thresh-Gateway main org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver Exposing 3 endpoint(s) beneath base path '/actuator'
2021-12-26 18:12:55 INFO  Thresh-Gateway main org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler Initializing ExecutorService
2021-12-26 18:12:56 INFO  Thresh-Gateway main org.springframework.boot.web.embedded.netty.NettyWebServer Netty started on port(s): 8443
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.alibaba.nacos.client.naming [BEAT] adding beat: {"cluster":"DEFAULT","ip":"192.168.1.3","metadata":{"preserved.register.source":"SPRING_CLOUD"},"period":5000,"port":8443,"scheduled":false,"serviceName":"DEFAULT_GROUP@@Thresh-Gateway","stopped":false,"weight":1.0} to beat map.
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.alibaba.nacos.client.naming [REGISTER-SERVICE] public registering service DEFAULT_GROUP@@Thresh-Gateway with instance: {"clusterName":"DEFAULT","enabled":true,"ephemeral":true,"healthy":true,"instanceHeartBeatInterval":5000,"instanceHeartBeatTimeOut":15000,"ip":"192.168.1.3","ipDeleteTimeout":30000,"metadata":{"preserved.register.source":"SPRING_CLOUD"},"port":8443,"weight":1.0}
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.alibaba.cloud.nacos.registry.NacosServiceRegistry nacos registry, DEFAULT_GROUP Thresh-Gateway 192.168.1.3:8443 register finished
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.zhang.thresh.gateway.ThreshGatewayApplication Started ThreshGatewayApplication in 7.386 seconds (JVM running for 8.819)
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-localhost_8001] [subscribe] thresh-gateway+DEFAULT_GROUP
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.alibaba.nacos.client.config.impl.CacheData [fixed-localhost_8001] [add-listener] ok, tenant=, dataId=thresh-gateway, group=DEFAULT_GROUP, cnt=1
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.alibaba.nacos.client.config.impl.ClientWorker [fixed-localhost_8001] [subscribe] thresh-gateway.yaml+DEFAULT_GROUP
2021-12-26 18:12:57 INFO  Thresh-Gateway main com.alibaba.nacos.client.config.impl.CacheData [fixed-localhost_8001] [add-listener] ok, tenant=, dataId=thresh-gateway.yaml, group=DEFAULT_GROUP, cnt=1
2021-12-26 18:12:58 INFO  Thresh-Gateway nioEventLoopGroup-2-2 org.mongodb.driver.connection Opened connection [connectionId{localValue:3, serverValue:9}] to localhost:27017
2021-12-26 18:12:58 INFO  Thresh-Gateway boundedElastic-1 io.lettuce.core.EpollProvider Starting without optional epoll library
2021-12-26 18:12:58 INFO  Thresh-Gateway boundedElastic-1 io.lettuce.core.KqueueProvider Starting without optional kqueue library
